<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE boostbook PUBLIC "-//Boost//DTD BoostBook XML V1.0//EN"
  "http://www.boost.org/tools/boostbook/dtd/boostbook.dtd">
<!--
  Hamigaki Library Document Source

  Copyright Takeshi Mouri 2006.
  Use, modification, and distribution are subject to the
  Boost Software License, Version 1.0. (See accompanying file
  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
-->
<concept name="SeekableDevice" category="Iostreams">
  <param name="D" role="seekable-device-type"/>

  <associated-type name="category">
    <get-member-type name="type">
      <apply-template name="boost::iostreams::category_of">
        <type name="D"/>
      </apply-template>
    </get-member-type>
    <description><simpara>フィルタまたはデバイスのカテゴリ</simpara></description>
  </associated-type>

  <refines const="no" concept="Device"/>

  <notation variables="dev">
    <sample-value>
      <type name="D"/>
    </sample-value>
  </notation>

  <notation variables="off">
    <sample-value>
      <type name="boost::iostreams::stream_offset"/>
    </sample-value>
  </notation>

  <notation variables="way">
    <sample-value>
      <type name="std::ios_base::seekdir"/>
    </sample-value>
  </notation>

  <valid-type-expression name="Category tag">
    <description>
      <simpara><code>category</code>は<code>boost::iostreams::input_seekable</code>または<code>boost::iostreams::output_seekable</code>から派生していなければならない。</simpara>
    </description>
    <type name="category"/>
    <return-type>
      <derived-from testable="yes">
        <type name="boost::iostreams::device_tag"/>
      </derived-from>
    </return-type>
  </valid-type-expression>

  <valid-expression name="Seek">
    <apply-method name="seek">
      <sample-value><reference-to><type name="D"/></reference-to></sample-value>
      <sample-value><type name="boost::iostreams::stream_offset"/></sample-value>
      <sample-value><type name="std::ios_base::seekdir"/></sample-value>
    </apply-method>
    <return-type><require-same-type><type name="std::streampos"/></require-same-type></return-type>
    <semantics><code>way</code>が<code>std::ios_base::beg</code>ならばデバイスの先頭から、<code>std::ios_base::cur</code>ならば現在位置から、<code>std::ios_base::end</code>ならば末尾から、<code>off</code>文字目にヘッドを移動する。</semantics>
  </valid-expression>
</concept>
